<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  
    <div id="header"></div>
    <div class="heading">
        <h2>Add items</h2>
        <div class="zz"></div>
      </div>
    <div class="add">
        <form id="fom" >
            <label for="pname"> Name</label>
            <input type="text" id="pname"  placeholder="Product name.." required autofocus>
        
            <label for="quantity"> quantity</label>
            <input type="number" id="quantity" placeholder="Product inventory.."  required min="1" >

            <label for="img">insert image :</label>
            <!-- <input type="text" id="img" name="img"  required> -->
            <input type="file" id="img"  accept="image/*" required>


            <label for="disc">Discription:</label>
            <textarea  style="height: 100px;"id="disc" placeholder="About Product.." required> </textarea>

            <label for="price"> Price</label>
            <input type="number" id="price" placeholder="Product price.." required  min="1">

            <input type="submit"  id="subm">
        
          </form>
   </div>
   <script>
    var image ;
    let list = localStorage.getItem('products') ? JSON.parse( localStorage.getItem('products')) : [];
    let quantityData = new Object();
    quantityData.cart = 0;
    let arrr = new Object(); 
    let fileinput = document.getElementById("img")
   
            $("#img").change(function(e){
               
                 var img = fileinput.files[0];
                 const reader = new FileReader();
                reader.readAsDataURL(img);
                 reader.onloadend = function(){ 
                     image = reader.result;
                   
                 }
            })


         $("#subm").click(function(){
            var id1 = new Date().getTime().toString();
            arrr.id= id1;
            arrr.pname = $("#pname").val();
            quantityData.inventory = $("#quantity").val();
        
            arrr.img = image;
            arrr.disc = $("#disc").val();
            arrr.price = $("#price").val();
            list.push(arrr);
            localStorage.setItem(id1,JSON.stringify(quantityData));
            localStorage.setItem('products',JSON.stringify(list));
         })       
     
         
        
         $(function(){ $("#header").load("header.html") });
   </script>
   <script> 
    
</script>
</body>
</html>